/**
 * Calendar App
 *
 * @copyright 2016 Raghu Nayyar <hey@raghunayyar.com>
 * @copyright 2018 Georg Ehrke <oc.list@georgehrke.com>
 * @copyright 2017 John Molakvoæ <skjnldsv@protonmail.com>
 *
 * @author Raghu Nayyar
 * @author Georg Ehrke
 * @author John Molakvoæ
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU AFFERO GENERAL PUBLIC LICENSE
 * License as published by the Free Software Foundation; either
 * version 3 of the License, or any later version.
 *
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU AFFERO GENERAL PUBLIC LICENSE for more details.
 *
 * You should have received a copy of the GNU Affero General Public
 * License along with this library.  If not, see <http://www.gnu.org/licenses/>.
 *
 */

#app-navigation {

	// This is used for the Datepicker, the view buttons and the today button
	.button-group {
		display: flex;
		margin: 0 5px;
		width: calc(100% - 10px);

		&:first-of-type {
			margin-top: 3px;
		}

		.button {
			// this border-radius affects the button in the middle of the group
			// for the rounded corner buttons on the sides, see further below
			border-radius: 0;
			font-weight: normal;
			margin: 3px -1px 3px 0;
			padding: 8px;
			flex-grow: 1;
		}

		.button.datepicker-label {
			flex-grow: 4;
			text-align: center;
		}

		.button.icon.icon-leftarrow,
		.button.icon.icon-rightarrow {
			background-size: 10px;
		}

		.button.active {
			background-color: var(--color-primary);
			color: var(--color-primary-text);
		}

		.button:hover,
		.button:focus,
		.button.active {
			z-index: 50;
		}

		.button:only-child {
			border-radius: 3px;
		}

		.button:last-child {
			margin-right: 0;
		}

		.button:first-child:not(:only-of-type) {
			border-radius: 3px 0 0 3px;
		}

		.button:last-child:not(:only-of-type) {
			border-radius: 0 3px 3px 0;
		}

		.button:not(:only-of-type):not(:first-child):not(:last-child) {
			border-radius: 0;
		}

		.mx-datepicker {
			margin-left: 50%;
			margin-top: 48px;
			position: absolute;
			width: 0;
		}

	}

	ul {

		// New Calendar / New Subscription
		> li.new-entity-container {

			div.app-navigation-entry-edit {
				padding-left: 5px !important;
			}

			input:not([type='text']):last-child {
				border-top-right-radius: 3px;
				border-bottom-right-radius: 3px;
			}

			span.icon-loading-small {
				position: absolute;
				margin-top: 14px;
				margin-left: calc(50% - 36px);
			}
		}

		// Calendar list items / Subscription list items
		> li.app-navigation-list-item {

			&.enabled {
				> a {
					opacity: 1;
				}

				> .app-navigation-entry-bullet {
					border: 1px solid var(--color-border-dark)
				}
			}

			&.icon.icon-loading {
				margin-top: 22px;
				margin-bottom: 44px;
			}

			&.separator {
				height: 44px;
			}

			li.app-navigation-entry-utils-menu-button {

				&.has-owner-avatar {
					display: flex;
					width: 60px !important;

					.avatardiv {
						margin: 6px 0;

						.popovermenu {
							> ul > li {
								width: auto !important;
							}
						}
					}
				}

				&.has-shared-label {
					display: flex;
					width: auto !important;

					a.shared-label {
						margin-top: 13px;

						&:hover,
						&:focus {
							box-shadow: none;
						}
					}

				}

				button.icon-public,
				button.icon-shared {
					opacity: 1 !important;
				}

				button:hover,
				button:focus {
					opacity: 1 !important;
				}

			}

			div.sharing-section {
				box-shadow: inset 4px 0 var(--color-primary);
				padding-left: 12px;
				padding-right: 12px;
				width: 100%;

				div.multiselect {
					width: calc(100% - 14px);
					max-width: none;
					z-index: 105;
				}

				.oneline {
					white-space: nowrap;
					position: relative;
				}

				.shareWithList {
					list-style-type: none;
					display: flex;
					flex-direction: column;

					> li {
						height: 44px;
						white-space: normal;
						display: inline-flex;
						align-items: center;
						position: relative;

						.avatar {
							width: 32px;
							height: 32px;
							background-color: #DBDBDB;
						}

						.avatar.published {
							background-color: var(--color-primary);
						}

						.username {
							padding: 0 8px;
							overflow: hidden;
							white-space: nowrap;
							text-overflow: ellipsis;
						}

						> .sharingOptionsGroup {
							margin-left: auto;
							display: flex;
							align-items: center;
							white-space: nowrap;

							> a:hover,
							> a:focus,
							> .share-menu > a:hover,
							> .share-menu > a:focus {
								box-shadow: none !important;
								opacity: 1 !important;
							}

							> .icon:not(.hidden),
							> .share-menu .icon:not(.hidden){
								padding: 14px;
								height: 44px;
								width: 44px;
								opacity: 0.5;
								display: block;
								cursor: pointer;
							}

							> .share-menu {
								position: relative;
								display: block;
							}
						}
					}
				}
			}
		}

		li.spacer {
			box-shadow: none !important;
		}
	}

	#app-settings {

		#app-settings-content {
			overflow-y: visible !important;
		}

	}
}
